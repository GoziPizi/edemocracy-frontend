<div id="page-container">
    <div id="header">
        <h1>Débat</h1>
    </div>

    <div class="separation-line"></div>

    <div id="presentation">
        <div id="debate-presentation">
            <h3>{{debate.title}}</h3>
            <p>Contexte: <br> <br> {{debate.description}}</p>
        </div>
    </div>

    <div class="separation-line"></div>

    <div id="arguments-container">
        <div id="recent-arguments">
            <h4>Arguments Récents:</h4>
            <swiper-container 
                *ngIf="recentArguments.length > 0"
                navigation="true" 
                dir="rtl"
                >
                <swiper-slide *ngFor="let argument of recentArguments">
                    <app-single-argument-presentation 
                        class="single-argument-presentation" 
                        [argument]="argument"
                        [$voteSubject]="voteSubject$"></app-single-argument-presentation>
                </swiper-slide>
            </swiper-container>
            <p *ngIf="recentArguments.length === 0">Aucun argument récent</p>
        </div>
        <div id="popular-arguments">
            <h4>Arguments Populaires:</h4>
            <swiper-container 
                *ngIf="popularArguments.length > 0"
                #swiperContainer
                navigation="true"
                centeredSlides="true"
                [slidesPerView]=2 >
                <swiper-slide *ngFor="let argument of popularArguments">
                    <app-single-argument-presentation 
                        class="single-argument-presentation" 
                        [argument]="argument"
                        [$voteSubject]="voteSubject$"></app-single-argument-presentation>
                </swiper-slide>
            </swiper-container>
            <p *ngIf="popularArguments.length === 0">Aucun argument populaire</p>
        </div>
    </div>
    <div id=add-argument>
        <button (click)="togglePopUp()"><i class="fa-regular fa-comment-dots"></i>Ajouter un argument</button>
    </div>
    <div id="for-against">
        <div id="nb-of-votes">
            <p>{{debate.nbVotes}} votants</p>
        </div>
        <h4>Votez pour ou contre cette idée:</h4>
        <div id="vote-selector">
            <p 
                *ngFor="let value of voteValues" 
                class="vote-button" 
                (click)="voteForDebate(value)" 
                [ngClass]="{'selected' : isCurrentValue(value), 'green' : true, 'red' : isNegative(value) }">{{mapperEnumToString(value)}}</p>
        </div>
        <app-for-against-debate></app-for-against-debate>
    </div>
</div>

<div id="argument-pop-up" *ngIf="isPopUpOpen">
    <div id="pop-up-content">
        <i class="fas fa-times" (click)="togglePopUp()"></i>
        <h3>Ajouter un argument</h3>
        <input type="text" placeholder="Titre de l'argument" [(ngModel)]="argumentTitle">
        <p id="create-argument" (click)="onValidate()" >Valider</p>
    </div>
</div>
